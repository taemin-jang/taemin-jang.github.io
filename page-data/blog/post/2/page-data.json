{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/post/2/","result":{"data":{"markdownRemark":{"html":"<h1>콜백 함수?</h1>\n<p>콜백 함수란 다른 함수의 인자로 함수를 넘겨주고, 해당 함수 내에서 전달 받은 함수를 실행하는 것이다.</p>\n<p>주로 매개변수에 함수를 전달해 일회용으로 사용하기 때문에 함수의 이름을 명시하지 않는 익명 함수로 사용한다.</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"65156363292042750000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"복사했습니다.\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`let button = document.getElementById(&quot;button&quot;); // 버튼 요소를 선택\r\n\r\n// 버튼에 클릭 이벤트 리스너를 추가\r\nbutton.addEventListener(&quot;click&quot;, function () {\r\n  // 콜백 함수\r\n  console.log(&quot;Button clicked!&quot;);\r\n});\r\n\r\n// ------------------------------------\r\n\r\nsetTimeout(() => {\r\n  console.log(&quot;Delayed for 1 second.&quot;);\r\n}, 1000);\r\n\r\n// ------------------------------------\r\nfunction callback() {\r\n  console.log(&quot;hi&quot;);\r\n}\r\n\r\nfunction print(callback) {\r\n  callback();\r\n}`, `65156363292042750000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">let button = document.getElementById(&quot;button&quot;); // 버튼 요소를 선택\r\n\r\n// 버튼에 클릭 이벤트 리스너를 추가\r\nbutton.addEventListener(&quot;click&quot;, function () {\r\n  // 콜백 함수\r\n  console.log(&quot;Button clicked!&quot;);\r\n});\r\n\r\n// ------------------------------------\r\n\r\nsetTimeout(() =&gt; {\r\n  console.log(&quot;Delayed for 1 second.&quot;);\r\n}, 1000);\r\n\r\n// ------------------------------------\r\nfunction callback() {\r\n  console.log(&quot;hi&quot;);\r\n}\r\n\r\nfunction print(callback) {\r\n  callback();\r\n}</code>\n        </deckgo-highlight-code>\n<h2>콜백 함수 주의점</h2>\n<h3>1. this를 사용한 콜백함수</h3>\n<p>콜백 함수 내에서 <code>this</code>를 사용하면 예상한대로 동작하지 않을 수 있다.</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"75106562990445430000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"복사했습니다.\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`let userData = {\r\n  signUp: &quot;2021-4-06 12:00:00&quot;,\r\n  name: &quot;Not Set&quot;,\r\n  setName: function (firstName, lastName) {\r\n    this.name = firstName + &quot; &quot; + lastName;\r\n  },\r\n};\r\n\r\nfunction getUserName(firstName, lastName, callback) {\r\n  callback(firstName, lastName);\r\n}\r\n\r\ngetUserName(&quot;홍&quot;, &quot;길동&quot;, userData.setName);\r\n\r\nconsole.log(&quot;1: &quot;, userData.name); // Not Set\r\nconsole.log(&quot;2: &quot;, window.name); // 홍 길동`, `75106562990445430000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">let userData = {\r\n  signUp: &quot;2021-4-06 12:00:00&quot;,\r\n  name: &quot;Not Set&quot;,\r\n  setName: function (firstName, lastName) {\r\n    this.name = firstName + &quot; &quot; + lastName;\r\n  },\r\n};\r\n\r\nfunction getUserName(firstName, lastName, callback) {\r\n  callback(firstName, lastName);\r\n}\r\n\r\ngetUserName(&quot;홍&quot;, &quot;길동&quot;, userData.setName);\r\n\r\nconsole.log(&quot;1: &quot;, userData.name); // Not Set\r\nconsole.log(&quot;2: &quot;, window.name); // 홍 길동</code>\n        </deckgo-highlight-code>\n<p>callback 함수의 this는 호출한 함수의 this를 따르게 된다.</p>\n<p>따라서 usetData.setName을 호출한 getUserName의 this를 따르게 되고 해당 함수는 전역에서 호출했기 때문에 this는 window를 가리키게 된다.</p>\n<details> \r\n  <summary>예</summary>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"88183480837113820000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"복사했습니다.\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`// 해당 콜백함수는 userData.setName과 아무런 관계가 없는 함수 형태만 비슷한 독립적인 함수이다.\r\ngetUserName(&quot;홍&quot;, &quot;길동&quot;, function (firstName, lastName) {\r\n  this.name = firstName + &quot; &quot; + lastName;\r\n});`, `88183480837113820000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">// 해당 콜백함수는 userData.setName과 아무런 관계가 없는 함수 형태만 비슷한 독립적인 함수이다.\r\ngetUserName(&quot;홍&quot;, &quot;길동&quot;, function (firstName, lastName) {\r\n  this.name = firstName + &quot; &quot; + lastName;\r\n});</code>\n        </deckgo-highlight-code>\n</details>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"51353915154577650000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"복사했습니다.\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`let userData = {\r\n  signUp: &quot;2021-4-06 12:00:00&quot;,\r\n  name: &quot;Not Set&quot;,\r\n  setName: function (firstName, lastName) {\r\n    this.name = firstName + &quot; &quot; + lastName;\r\n  },\r\n};\r\n\r\nuserData.setName(&quot;홍&quot;, &quot;길동&quot;);\r\n\r\nconsole.log(userData.name); // 홍 길동`, `51353915154577650000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<deckgo-highlight-code language=\"js\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">let userData = {\r\n  signUp: &quot;2021-4-06 12:00:00&quot;,\r\n  name: &quot;Not Set&quot;,\r\n  setName: function (firstName, lastName) {\r\n    this.name = firstName + &quot; &quot; + lastName;\r\n  },\r\n};\r\n\r\nuserData.setName(&quot;홍&quot;, &quot;길동&quot;);\r\n\r\nconsole.log(userData.name); // 홍 길동</code>\n        </deckgo-highlight-code>\n<p>이 경우에는 setName 메소드를 userData라는 객체에서 호출했기 때문에 this는 userData를 가리키게 된다.</p>\n<h3>2. 콜백 지옥(Callback Hell)</h3>\n<p>비동기 호출이 자주 일어날 때 콜백 지옥이 발생한다.</p>\n<p>콜백 함수 호출이 중첩되어 복잡도가 높아지는 현상이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c2d14d39eb611247fe203fdfe5a8948f/32056/callback_hell.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABbUlEQVR42oWSO1PCQBSF+bV21nYW+gNs7G0tLKy0UGccXhIcIWAMhEckhCQ8QhKTANnL3l1njcDwcLzb7Jw755uzZzbD92a5JL7nTl0vjCNKKWOM/zGZQyKLvyKzbRkdczQZz5MFpZQzcXZAu2axRxQXZL4TGNqgrXYHphXPZoj4j3mbJBDhONLlnqHoltH3/SAhhB0w/1A1Kf9ezDFGV0LaAqrD+K1m6bJu94ee5wMQSmlmnZZzHvnT58uTm9OjhpTlnCMKRAy0GSZXJjnvkKntdz5aqtoejTwAyGwicq7JxYuzY63+EnnumoiMBUAr7uJRtxW1mS3IktSynQARN7H7SqlSuHu6vy0/XK+qE2YACALvs6u/FmtVuTcah5Ti1puRJFa9CAA0mTtKORUBwHUnjUYrn69J5bZhTgmBtIuUu9s2iqGEEMd2qtVaNlcpSa2+sC33f8tO22KdkGTiut2OrshvQ2eI+Kvvm78B/tVw4uHKsgIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Callback Hell\"\n        title=\"\"\n        src=\"/static/c2d14d39eb611247fe203fdfe5a8948f/0a47e/callback_hell.png\"\n        srcset=\"/static/c2d14d39eb611247fe203fdfe5a8948f/8a4e8/callback_hell.png 150w,\n/static/c2d14d39eb611247fe203fdfe5a8948f/5a46d/callback_hell.png 300w,\n/static/c2d14d39eb611247fe203fdfe5a8948f/0a47e/callback_hell.png 600w,\n/static/c2d14d39eb611247fe203fdfe5a8948f/32056/callback_hell.png 602w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"31267228106272715000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"복사했습니다.\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`function add(x, callback) {\r\n  let sum = x + x;\r\n  console.log(sum);\r\n  callback(sum);\r\n}\r\n\r\nadd(2, function (result) {\r\n  add(result, function (result) {\r\n    add(result, function (result) {\r\n      console.log(&quot;finish!!&quot;);\r\n    });\r\n  });\r\n});\r\n\r\n// <output>\r\n// 4\r\n// 8\r\n// 16\r\n// finish!!`, `31267228106272715000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">function add(x, callback) {\r\n  let sum = x + x;\r\n  console.log(sum);\r\n  callback(sum);\r\n}\r\n\r\nadd(2, function (result) {\r\n  add(result, function (result) {\r\n    add(result, function (result) {\r\n      console.log(&quot;finish!!&quot;);\r\n    });\r\n  });\r\n});\r\n\r\n// &lt;output&gt;\r\n// 4\r\n// 8\r\n// 16\r\n// finish!!</code>\n        </deckgo-highlight-code>\n<h2>this 해결 방법</h2>\n<p>콜백 함수의 this를 보호할 수 있도록 만들어줘야 한다.</p>\n<h3>1. call(), apply() 메서드 사용</h3>\n<ul>\n<li>\n<p>call()</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"69364695387541730000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"복사했습니다.\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`// call 메서드 사용\r\nlet userData = {\r\n  signUp: &quot;2021-4-06 12:00:00&quot;,\r\n  name: &quot;Not Set&quot;,\r\n  setName: function (firstName, lastName) {\r\n    this.name = firstName + &quot; &quot; + lastName;\r\n  },\r\n};\r\n\r\nfunction getUserName(firstName, lastName, callback, data) {\r\n  // userData를 받는 매개변수 data를 추가\r\n  callback.call(data, firstName, lastName); // data를 this로 사용\r\n}\r\n\r\ngetUserName(&quot;홍&quot;, &quot;길동&quot;, userData.setName, userData); // userData를 인수로 전달\r\n\r\nconsole.log(&quot;1: &quot;, userData.name); // 홍 길동\r\nconsole.log(&quot;2: &quot;, window.name); // Not Set`, `69364695387541730000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">// call 메서드 사용\r\nlet userData = {\r\n  signUp: &quot;2021-4-06 12:00:00&quot;,\r\n  name: &quot;Not Set&quot;,\r\n  setName: function (firstName, lastName) {\r\n    this.name = firstName + &quot; &quot; + lastName;\r\n  },\r\n};\r\n\r\nfunction getUserName(firstName, lastName, callback, data) {\r\n  // userData를 받는 매개변수 data를 추가\r\n  callback.call(data, firstName, lastName); // data를 this로 사용\r\n}\r\n\r\ngetUserName(&quot;홍&quot;, &quot;길동&quot;, userData.setName, userData); // userData를 인수로 전달\r\n\r\nconsole.log(&quot;1: &quot;, userData.name); // 홍 길동\r\nconsole.log(&quot;2: &quot;, window.name); // Not Set</code>\n        </deckgo-highlight-code>\n</li>\n<li>\n<p>apply()</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"77639796182465680000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"복사했습니다.\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`// apply 메서드 사용\r\nlet userData = {\r\n  signUp: &quot;2021-4-06 12:00:00&quot;,\r\n  name: &quot;Not Set&quot;,\r\n  setName: function (firstName, lastName) {\r\n    this.name = firstName + &quot; &quot; + lastName;\r\n  },\r\n};\r\n\r\nfunction getUserName(firstName, lastName, callback, data) {\r\n  // userData를 받는 매개변수 data를 추가\r\n  callback.apply(data, [firstName, lastName]); // data를 this로 사용하고 배열을 전달\r\n}\r\n\r\ngetUserName(&quot;홍&quot;, &quot;길동&quot;, userData.setName, userData); // userData를 인수로 전달\r\n\r\nconsole.log(&quot;1: &quot;, userData.name); // 홍 길동\r\nconsole.log(&quot;2: &quot;, window.name); // Not Set`, `77639796182465680000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">// apply 메서드 사용\r\nlet userData = {\r\n  signUp: &quot;2021-4-06 12:00:00&quot;,\r\n  name: &quot;Not Set&quot;,\r\n  setName: function (firstName, lastName) {\r\n    this.name = firstName + &quot; &quot; + lastName;\r\n  },\r\n};\r\n\r\nfunction getUserName(firstName, lastName, callback, data) {\r\n  // userData를 받는 매개변수 data를 추가\r\n  callback.apply(data, [firstName, lastName]); // data를 this로 사용하고 배열을 전달\r\n}\r\n\r\ngetUserName(&quot;홍&quot;, &quot;길동&quot;, userData.setName, userData); // userData를 인수로 전달\r\n\r\nconsole.log(&quot;1: &quot;, userData.name); // 홍 길동\r\nconsole.log(&quot;2: &quot;, window.name); // Not Set</code>\n        </deckgo-highlight-code>\n</li>\n</ul>\n<p>화살표 함수도 해결방안이 될 수 있지만 현재 예시에서는 객체 메소드로 화살표 함수가 사용되기 때문에 똑같이 전역을 가리킨다.</p>\n<h3>2. Promise 사용</h3>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"81001206862143520000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"복사했습니다.\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`function add(x) {\r\n  return new Promise((resolve, reject) => {\r\n    let sum = x + x;\r\n    console.log(sum);\r\n    resolve(sum);\r\n  });\r\n}\r\n\r\nadd(2).then((result) => {\r\n  add(result).then((result) => {\r\n    add(result).then((result) => {\r\n      console.log(&quot;finish!!&quot;);\r\n    });\r\n  });\r\n});\r\n\r\n// <output>\r\n// 4\r\n// 8\r\n// 16\r\n// finish!!`, `81001206862143520000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">function add(x) {\r\n  return new Promise((resolve, reject) =&gt; {\r\n    let sum = x + x;\r\n    console.log(sum);\r\n    resolve(sum);\r\n  });\r\n}\r\n\r\nadd(2).then((result) =&gt; {\r\n  add(result).then((result) =&gt; {\r\n    add(result).then((result) =&gt; {\r\n      console.log(&quot;finish!!&quot;);\r\n    });\r\n  });\r\n});\r\n\r\n// &lt;output&gt;\r\n// 4\r\n// 8\r\n// 16\r\n// finish!!</code>\n        </deckgo-highlight-code>\n<p>하지만 promise도 결국 콜백지옥처럼 들여쓰기로 인해 이해하기 쉽지 않다. ⇒ Promise Hell</p>\n<p>return을 사용하면 Promise Hell을 탈출 할 수 있다.</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"66351981473164660000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"복사했습니다.\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`function add(x) {\r\n  return new Promise((resolve, reject) => {\r\n    let sum = x + x;\r\n    console.log(sum);\r\n    resolve(sum);\r\n  });\r\n}\r\n\r\nadd(2)\r\n  .then((result) => {\r\n    return add(result);\r\n  })\r\n  .then((result) => {\r\n    return add(result);\r\n  })\r\n  .then((result) => {\r\n    console.log(&quot;finish!!&quot;);\r\n  });\r\n\r\n// <output>\r\n// 4\r\n// 8\r\n// 16\r\n// finish!!`, `66351981473164660000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">function add(x) {\r\n  return new Promise((resolve, reject) =&gt; {\r\n    let sum = x + x;\r\n    console.log(sum);\r\n    resolve(sum);\r\n  });\r\n}\r\n\r\nadd(2)\r\n  .then((result) =&gt; {\r\n    return add(result);\r\n  })\r\n  .then((result) =&gt; {\r\n    return add(result);\r\n  })\r\n  .then((result) =&gt; {\r\n    console.log(&quot;finish!!&quot;);\r\n  });\r\n\r\n// &lt;output&gt;\r\n// 4\r\n// 8\r\n// 16\r\n// finish!!</code>\n        </deckgo-highlight-code>\n<h1>Promise란?</h1>\n<p>프로미스는 자바스크립트 비동기 처리에 사용되는 객체이다.</p>\n<h2>Promise States</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 565px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/983f3212d33a00ba33505a615d4cfe58/07eba/promise_state.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABRUlEQVR42o2S0W6jMBBF+f+f26fuqq2aTSBgY8cQMAEDts/KZFuRqg+50tWMZ2zNHc9kJMTIF5K/P+/yPgRMq9CmwjQ12oiN6lLSdGa7k/EkoveM9oquT1TFG219QpUfaHGgUznGVKSyWQiBeVmYnMMlzgtudhtjCPjZMRrFqEp6cdzUaF3QmGTPmEtJ30pMW98VrtOAlUesKrB1Tlcd6OucsRFMjWK81Cz2Sgz+rvRT8c6GXSeZnyx9/oItX7nJA+3HL/r8N7MpWXrDPNjd6/hot8Tjf2d+GnBNxdzKB6bYeuuYjGIQOa67Er8P6wdkqVqM4c7w36ZYCF9Kol+ZGo09vbMIgSsLFilw1ZnpnOPKM6u+PDnlnaqYhlacsH//4KqC4fjKLX9nVYJVyq37p9fmc3WSsllWLLXc/FUpvNIsWm0K/wFmE7sAPobaxQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Promise State\"\n        title=\"\"\n        src=\"/static/983f3212d33a00ba33505a615d4cfe58/07eba/promise_state.png\"\n        srcset=\"/static/983f3212d33a00ba33505a615d4cfe58/8a4e8/promise_state.png 150w,\n/static/983f3212d33a00ba33505a615d4cfe58/5a46d/promise_state.png 300w,\n/static/983f3212d33a00ba33505a615d4cfe58/07eba/promise_state.png 565w\"\n        sizes=\"(max-width: 565px) 100vw, 565px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3>1. Pending (대기)</h3>\n<p>비동기 처리 로직이 아직 완료되지 않은 상태를 의미한다.</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"9558469009166703000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"복사했습니다.\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`new Promise();`, `9558469009166703000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">new Promise();</code>\n        </deckgo-highlight-code>\n<h3>2. Fulfilled (완료)</h3>\n<p>비동기 처리가 완료되어 프로미스가 결과 값을 반환해준 상태를 의미한다.</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"46038970559324980000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"복사했습니다.\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`new Promise(function (resolve, reject) {\r\n  resolve();\r\n});`, `46038970559324980000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">new Promise(function (resolve, reject) {\r\n  resolve();\r\n});</code>\n        </deckgo-highlight-code>\n<p>그리고 이행 상태가 되면 <code>then()</code>을 사용하여 처리 결과 값을 받을 수 있다.</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"76767726667899370000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"복사했습니다.\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`function getData() {\r\n  return new Promise(function (resolve, reject) {\r\n    var data = 100;\r\n    resolve(data);\r\n  });\r\n}\r\n\r\n// resolve()의 결과 값 data를 resolvedData로 받음\r\ngetData().then(function (resolvedData) {\r\n  console.log(resolvedData); // 100\r\n});`, `76767726667899370000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">function getData() {\r\n  return new Promise(function (resolve, reject) {\r\n    var data = 100;\r\n    resolve(data);\r\n  });\r\n}\r\n\r\n// resolve()의 결과 값 data를 resolvedData로 받음\r\ngetData().then(function (resolvedData) {\r\n  console.log(resolvedData); // 100\r\n});</code>\n        </deckgo-highlight-code>\n<h3>3. Rejected (실패)</h3>\n<p>비동기 처리가 실패하거나 오류가 발생한 상태를 의미한다.</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"69777095503218510000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"복사했습니다.\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`new Promise(function (resolve, reject) {\r\n  reject();\r\n});`, `69777095503218510000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">new Promise(function (resolve, reject) {\r\n  reject();\r\n});</code>\n        </deckgo-highlight-code>\n<p>실패 상태가 되면 실패의 처리 결과 값을 <code>catch()</code>로 받을 수 있다.</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"63032815953640235000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"복사했습니다.\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`function getData() {\r\n  return new Promise(function (resolve, reject) {\r\n    reject(new Error(&quot;Request is failed&quot;));\r\n  });\r\n}\r\n\r\n// reject()의 결과 값 Error를 err에 받음\r\ngetData()\r\n  .then()\r\n  .catch(function (err) {\r\n    console.log(err); // Error: Request is failed\r\n  });`, `63032815953640235000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">function getData() {\r\n  return new Promise(function (resolve, reject) {\r\n    reject(new Error(&quot;Request is failed&quot;));\r\n  });\r\n}\r\n\r\n// reject()의 결과 값 Error를 err에 받음\r\ngetData()\r\n  .then()\r\n  .catch(function (err) {\r\n    console.log(err); // Error: Request is failed\r\n  });</code>\n        </deckgo-highlight-code>\n<h2>Promise flow</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b2bce3c4a35cdb1c9d5a5c59c0cfba5b/2ad15/promise_flow.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyUlEQVR42n2PwXLDMAhE/f/f6EPqcSW7U48QFgJkQTKOb03SPTHDW5Yd7qf8/iJVjTHEGInqE3jDDG9sIjmjass5t9Z67/cPGswspcTMZr2UkiHHJYbwva4/ooqI7l6JAMD9DDez3ruZnWYiWpYFAEopiFhrzTkDACISEWbcfrdt29Z1JaKLuX3dUkq990FVhUVURGTfdwCYpmkcxxDC+fNxmJmIMPPxnFWVmUXE3f92dvfWWq31CmGR/zp/WjBzjHGeZ2a+jr6aHz4Gl/ZFpuZMAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Promise Flow\"\n        title=\"\"\n        src=\"/static/b2bce3c4a35cdb1c9d5a5c59c0cfba5b/0a47e/promise_flow.png\"\n        srcset=\"/static/b2bce3c4a35cdb1c9d5a5c59c0cfba5b/8a4e8/promise_flow.png 150w,\n/static/b2bce3c4a35cdb1c9d5a5c59c0cfba5b/5a46d/promise_flow.png 300w,\n/static/b2bce3c4a35cdb1c9d5a5c59c0cfba5b/0a47e/promise_flow.png 600w,\n/static/b2bce3c4a35cdb1c9d5a5c59c0cfba5b/2ad15/promise_flow.png 801w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2>Promise Chaining</h2>\n<p>여러 개의 프로미스를 <code>then, catch, finally</code>로 연결하여 사용할 수 있다.</p>\n<h3>then</h3>\n<p>프로미스 객체를 반환 받고 해당 결과를 받거나 에러를 받을 수 있다.</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"98858403364999700000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"복사했습니다.\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`promise.then(\r\n  function (result) {\r\n    /* 결과(result)를 다룹니다 */\r\n  },\r\n  function (error) {\r\n    /* 에러(error)를 다룹니다 */\r\n  }\r\n);`, `98858403364999700000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">promise.then(\r\n  function (result) {\r\n    /* 결과(result)를 다룹니다 */\r\n  },\r\n  function (error) {\r\n    /* 에러(error)를 다룹니다 */\r\n  }\r\n);</code>\n        </deckgo-highlight-code>\n<ul>\n<li>then의 첫 번째 인수는 프로미스가 resolve 되었을 때 실행되는 함수로 실행 결과 값을 받아 처리</li>\n<li>then의 두 번째 인수는 프로미스가 reject 되었을 때 실행되는 함수로 에러 값을 받아 처리</li>\n</ul>\n<p>하지만 주로 성공적(resolve)으로 처리 된 경우만 다루기 때문에 인수를 하나만 전달한다.</p>\n<h3>catch</h3>\n<p>에러가 발생한 경우, 즉 reject된 경우만 다루는 함수로 에러 처리할 때 사용한다.</p>\n<p><code>.then(undefined, errorHandling)</code> then에서 첫 번째 인자를 null로 전달하면 동일하게 작동한다.</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"28084446288217424000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"복사했습니다.\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`promise.catch(function (error) {\r\n  /* 에러(error)를 다룹니다 */\r\n});`, `28084446288217424000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">promise.catch(function (error) {\r\n  /* 에러(error)를 다룹니다 */\r\n});</code>\n        </deckgo-highlight-code>\n<p>then으로 두 개의 인자를 받아서 처리하는 것보다 각각 하나의 역할로 처리하는 것이 코드 가독성에도 좋다.</p>\n<h3>finally</h3>\n<p>try - catch문에 finally 절이 있는 것과 같이, 프로미스에도 존재하며 resolve, reject 상관 없이 무조건 한번만 실행된다.</p>\n<p>주로 then, catch에 상관 없이 동일한 처리를 할 경우 사용된다.</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"77621835295730420000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"복사했습니다.\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`new Promise((resolve, reject) => {\r\n  setTimeout(() => resolve(&quot;결과&quot;), 2000)\r\n})\r\n  .finally(() => alert(&quot;프라미스가 준비되었습니다.&quot;))\r\n  .then(result => alert(result));\r\n\t.catch(err => alert(err));`, `77621835295730420000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">new Promise((resolve, reject) =&gt; {\r\n  setTimeout(() =&gt; resolve(&quot;결과&quot;), 2000)\r\n})\r\n  .finally(() =&gt; alert(&quot;프라미스가 준비되었습니다.&quot;))\r\n  .then(result =&gt; alert(result));\r\n\t.catch(err =&gt; alert(err));</code>\n        </deckgo-highlight-code>\n<h1>Async/Await</h1>\n<p>ES8(ECMAScript 2017)에서 간단하고 가독성 좋게 비동기 처리를 동기 처리처럼 동작하도록 구현하기 위해 도입되었다.</p>\n<p>async/await은 프로미스를 기반으로 동작하며, 프로미스의 후속 메서드인 then/catch/finally를 사용하지 않고 동기 처리처럼 사용할 수 있다.</p>\n<h2>async 함수</h2>\n<p>await 키워드는 반드시 async 함수 내부에서 사용해야 한다. async 함수는 async 키워드를 사용해서 정의하며 resolve하는 프로미스 객체를 반환한다.</p>\n<h2>await 키워드</h2>\n<p>프로미스가 settled 상태가 될 때까지 대기하다가 settled 상태가 되면 프로미스가 resolve한 처리 결과를 반환한다. await 키워드는 반드시 프로미스 앞에서 사용해야 한다!</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"66025366277142440000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"복사했습니다.\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`const fetch = require(&quot;node-fetch&quot;);\r\n\r\nconst getGithubUserName = async (id) => {\r\n  const res = await fetch(\\`https://api.github.com/users/\\${id}\\`);\r\n  const { name } = await res.json();\r\n  console.log(name); // taemin-jang\r\n};\r\n\r\ngetGithubUserName(&quot;taemin-jang&quot;);`, `66025366277142440000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">const fetch = require(&quot;node-fetch&quot;);\r\n\r\nconst getGithubUserName = async (id) =&gt; {\r\n  const res = await fetch(`https://api.github.com/users/${id}`);\r\n  const { name } = await res.json();\r\n  console.log(name); // taemin-jang\r\n};\r\n\r\ngetGithubUserName(&quot;taemin-jang&quot;);</code>\n        </deckgo-highlight-code>\n<h2>에러 처리</h2>\n<p>이전 비동기 함수들은 try-catch문을 사용할 수 없었다.</p>\n<p>따라서 프로미스 객체로 반환되면 후속 메서드인 catch로 에러 처리를 할 수 있었는데 async/await은 try-catch문을 사용할 수 있다.</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"57647859870566710000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"복사했습니다.\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`const fetch = require(&quot;node-fetch&quot;);\r\n\r\nconst getGithubUserName = async (id) => {\r\n  try {\r\n    const res = await fetch(\\`https://api.github.com/users/\\${id}\\`);\r\n    const { name } = await res.json();\r\n    console.log(name); // taemin-jang\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\ngetGithubUserName(&quot;taemin-jang&quot;);`, `57647859870566710000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">const fetch = require(&quot;node-fetch&quot;);\r\n\r\nconst getGithubUserName = async (id) =&gt; {\r\n  try {\r\n    const res = await fetch(`https://api.github.com/users/${id}`);\r\n    const { name } = await res.json();\r\n    console.log(name); // taemin-jang\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\ngetGithubUserName(&quot;taemin-jang&quot;);</code>\n        </deckgo-highlight-code>\n<p>따라서 async/await은 비동기 처리의 처리 순서가 보장되어야 하는 모든 프로미스에 사용하면 동기 처리처럼 동작시킬 수 있다.</p>\n<h3>마무리</h3>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"20177209806059303000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"복사했습니다.\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`setTimeout(() => console.log(1), 0);\r\n\r\nPromise.resolve()\r\n  .then(() => console.log(2))\r\n  .then(() => console.log(3));`, `20177209806059303000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg stroke=\"currentColor\" fill=\"none\" stroke-width=\"2\" viewBox=\"0 0 24 24\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"h-4 w-4\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2\"></path><rect x=\"8\" y=\"2\" width=\"8\" height=\"4\" rx=\"1\" ry=\"1\"></rect></svg>\n              </div>\n            </div>\n<deckgo-highlight-code language=\"jsx\" terminal=\"carbon\" theme=\"blackboard\"  >\n          <code slot=\"code\">setTimeout(() =&gt; console.log(1), 0);\r\n\r\nPromise.resolve()\r\n  .then(() =&gt; console.log(2))\r\n  .then(() =&gt; console.log(3));</code>\n        </deckgo-highlight-code>","frontmatter":{"title":"Callback 그리고 Promise란 무엇인가, Async/Await, 그리고 Promise에서 에러 핸들링","slug":"blog/post/2","date":"2023년 08월 13일 ","thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/c2d14d39eb611247fe203fdfe5a8948f/c3daa/callback_hell.png","srcSet":"/static/c2d14d39eb611247fe203fdfe5a8948f/548d0/callback_hell.png 151w,\n/static/c2d14d39eb611247fe203fdfe5a8948f/2de4f/callback_hell.png 301w,\n/static/c2d14d39eb611247fe203fdfe5a8948f/c3daa/callback_hell.png 602w","sizes":"(min-width: 602px) 602px, 100vw"},"sources":[{"srcSet":"/static/c2d14d39eb611247fe203fdfe5a8948f/bde6f/callback_hell.webp 151w,\n/static/c2d14d39eb611247fe203fdfe5a8948f/53934/callback_hell.webp 301w,\n/static/c2d14d39eb611247fe203fdfe5a8948f/605ac/callback_hell.webp 602w","type":"image/webp","sizes":"(min-width: 602px) 602px, 100vw"}]},"width":602,"height":334}}},"profile":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/22942bf5ef783d654325396c0a1ddcad/53973/JangTaemin2.png","srcSet":"/static/22942bf5ef783d654325396c0a1ddcad/22867/JangTaemin2.png 8w,\n/static/22942bf5ef783d654325396c0a1ddcad/7961d/JangTaemin2.png 15w,\n/static/22942bf5ef783d654325396c0a1ddcad/53973/JangTaemin2.png 30w,\n/static/22942bf5ef783d654325396c0a1ddcad/7ab40/JangTaemin2.png 60w","sizes":"(min-width: 30px) 30px, 100vw"},"sources":[{"srcSet":"/static/22942bf5ef783d654325396c0a1ddcad/5d252/JangTaemin2.webp 8w,\n/static/22942bf5ef783d654325396c0a1ddcad/f57b3/JangTaemin2.webp 15w,\n/static/22942bf5ef783d654325396c0a1ddcad/bde72/JangTaemin2.webp 30w,\n/static/22942bf5ef783d654325396c0a1ddcad/927d1/JangTaemin2.webp 60w","type":"image/webp","sizes":"(min-width: 30px) 30px, 100vw"}]},"width":30,"height":30}}}}}},"pageContext":{"slug":"blog/post/2"}},"staticQueryHashes":["3159585216","3185596357"],"slicesMap":{}}